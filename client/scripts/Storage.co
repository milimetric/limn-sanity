define ->
    class Storage
        load: (path, callback) ->
            ret = {}
            options = do
                url: path,
                async: !!callback
                error: (err) -> ret.error = err
            
            if callback
                options.success = callback
            else
                options.success = (data) -> ret.loaded = data
            
            $.ajax options
            ret.loaded
    new Storage()
